<!DOCTYPE html>
<html>
<head>
<title>URL Shortener</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-signin-scope" content="profile email">
<meta name="google-signin-client_id" content="152937226054-ajhhaao7c41md0p7mrti9pgrcaag6nf7.apps.googleusercontent.com">
<script src="https://apis.google.com/js/platform.js" async defer></script>
<link rel="stylesheet" type="text/css"
	href="webjars/bootstrap/3.3.5/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css"
	href="/css/estilos.css" />
<script type="text/javascript" src="webjars/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript"
	src="webjars/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/app.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script type="text/javascript">
	function onSignIn(googleUser) {
		var profile = googleUser.getBasicProfile();
		console.log('ID: ' + profile.getId());
		console.log('Name: ' + profile.getName());
		console.log('Image URL: ' + profile.getImageUrl());
		console.log('Email: ' + profile.getEmail());

		// The ID token you need to pass to your backend:
		var id_token = googleUser.getAuthResponse().id_token;
		console.log("ID Token: " + id_token);
		
		var xhr = new XMLHttpRequest();
		xhr.open('POST', window.location.href + ':' + window.location.port + '/google-login');
		xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
		xhr.onload = function() {
		  console.log('Signed in as: ' + xhr.responseText);
		};
		xhr.send('idtoken=' + id_token);
	}
</script>

</head>
<body>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/es_ES/sdk.js#xfbml=1&version=v2.5&appId=545143702330998";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
	<div class="container-full">
		<div class="row">
			<div class="col-lg-offset-3 col-lg-6 text-center">

				<h1>URL Shortener</h1>
				<p class="lead">A front-end example page for the project</p>
				<br>
				<form class="col-lg-12" role="form" id="shortener" action="">
					<div class="row">
						<div class="input-group input-group-lg col-sm-offset-2 col-sm-8">
							<input type="text" class="center-block form-control input-lg"
								title="Enter a URL" placeholder="Enter a URL" name="url">
							<!--	
							<span class="input-group-btn"><button
									class="btn btn-lg btn-primary" type="submit">Short me!</button></span>
							-->
						</div>
					</div>
					<div class="row">
						<div class="checkbox col-lg-offset-2 col-lg-8 text-center  bg-info">
							<label>
								<input type="checkbox" name="hasToken" value="true">
								Check if you want to secure your URL
							</label>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-8"></div>
						<div class="input-group input-group-lg col-lg-offset-2 col-lg-8">
						<h3>If you want a custom URL, write it here:</h3>
							<div id="validation" class="right-inner-addon">								
								<input type="text" id="personal" class="center-block form-control input-lg"
								title = "Custom URL" placeholder="Your custom name here" name="custom">
								<img id="loading" style="display:none;" src="/image/ripple.svg">
								<img id="yes" style="display:none;" src="/image/yes.svg">
								<img id="no" style="display:none;" src="/image/no.svg">
							</div>

						</div>
					</div>
					<div class="row">
						<div class="col-lg-12 text-center">
							<div class="col-sm-offset-2 col-sm-8 text-center">
								<div id="anunc" />
								<br />
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-12 text-center">
							<div class="col-sm-offset-2 col-sm-8 text-center">
								<div id="recom" />
								<br />
							</div>
						</div>
					</div>
					<div class="row">
						<div class="input-group input-group-lg col-lg-offset-2 col-lg-8">
							<h3>Select an expire date (or leave it blank)</h3>
							<input type="date" class="center-block form-control input-lg"
								title="Expire Date" name="expire">
						</div>
					</div>
					<div class="row" style="margin-top: 15px;">
					</br>
						<div class="input-group input-group-lg col-lg-offset-2 col-lg-8">
							<button type="submit" class="btn btn-lg btn-primary">Short me!   
 
							</button>
						</div>
					</div>
					</div>
				</form>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-offset-3 col-lg-6 text-center">
				<div class="col-sm-offset-2 col-sm-8 text-center">
					<br />
					<div id="result" />
					</div>
				</div>
			</div>
			<div class=".col-lg-2">
			<h2>Please Sign In</h2>
					<br>
					<div class="input-group">

						<!--<span class="input-group-addon addon-google">
							<i class="fa fa-fw fa-2x fa-google fa-fw"></i>
						</span>-->
						<div class="g-signin2" data-onsuccess="onSignIn"></div>
					</div>
					</br>

					<div class="input-group">
						
						<!--<span class="input-group-addon addon-facebook">
							<i class="fa fa-fw fa-2x fa-facebook fa-fw"></i>
						</span>-->
						<div class="fb-login-button btn-" data-max-rows="1" data-size="large" data-show-faces="false" data-auto-logout-link="false">
							Sign in with Facebook
						</div>
					</div>
					</br>

					<div class="input-group">
						<!--<span class="input-group-addon addon-twitter">
							<i class="fa fa-fw fa-2x fa-twitter fa-fw"></i>
						</span>-->
						<img src="https://g.twimg.com/dev/sites/default/files/images_documentation/sign-in-with-twitter-gray.png" alt="Sign in with Twitter">
					</div>
			</div>
		</div>

</body>
</html>